(this["webpackJsonppizzarela-admin"]=this["webpackJsonppizzarela-admin"]||[]).push([[0],{40:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c,s=n(0),a=n.n(s),r=n(15),o=n.n(r),i=n(10),d=n(17),l=n(3),j=n.p+"static/media/Pizzarela-Artesanal.398fbb34.png",u=(n(40),n(1)),p=function(){return Object(u.jsx)("header",{children:Object(u.jsx)("div",{children:Object(u.jsx)(d.b,{to:"/",children:Object(u.jsx)("img",{src:j,alt:"Pizzarela-Artesanal"})})})})},h=n(32),b=n(18),O=n(9),f=n.n(O),x=n(12),g=n(14),m=n(31),z=n.n(m).a.create({baseURL:"http://localhost:3005"}),v=function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.get("orders");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response){e.next=16;break}throw console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers),e.t0.response.data;case 16:if(!e.t0.request){e.next=21;break}throw console.log(e.t0.request),e.t0.request;case 21:console.log("Error",e.t0.message);case 22:console.log(e.t0.config);case 23:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),y=Object(g.b)("paidOrders/fetchPaidOrders",Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return t=e.sent,console.log("Not sorted: ",t),"No hay \xf3rdenes nuevas."!==t[0]&&t.forEach((function(e){return e.pizzas.sort((function(e,t){return e.id-t.id}))})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))),P=Object(g.c)({name:"paidOrders",initialState:{value:[],status:"idle",error:null},reducers:{},extraReducers:(c={},Object(b.a)(c,y.pending,(function(e,t){e.status="loading"})),Object(b.a)(c,y.fulfilled,(function(e,t){e.status="succeeded",e.value=e.value.concat(t.payload)})),Object(b.a)(c,y.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),c)}).reducer,N=function(){var e=Object(x.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.post("orders/process",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response){e.next=13;break}throw e.t0.response.data.message;case 13:if(!e.t0.request){e.next=17;break}throw e.t0.request;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();var W=function(e){var t,n,c,s=e.e,r=function(e){var t=e.target;N({id:s.id,proceso:t.value}).catch((function(e){return alert("".concat(e," Proceso no actualizado. Orden ").concat(s.id))}))};"A"===s.tipo?t="Individual y Promoci\xf3n":"P"===s.tipo?t="Promoci\xf3n":"I"===s.tipo&&(t="Individual");for(var o=[],i=[],d=1,l=[],j=0;j<s.pizzas.length;j++)"Pack Familiar 1"===s.pizzas[j].grupo||"Pack Familiar 2"===s.pizzas[j].grupo||"Promo para Compartir"===s.pizzas[j].grupo||"Promo Entre Patas"===s.pizzas[j].grupo?(d<=4&&(l.push(s.pizzas[j]),d++),4===d&&(o.push(l),l=[],d=1)):"D\xfaos Grandes"===s.pizzas[j].grupo?(d<=3&&(l.push(s.pizzas[j]),d++),3===d&&(o.push(l),l=[],d=1)):i.push(s.pizzas[j]);return n=i.length>0&&Object(u.jsxs)("section",{className:"pizzasIndividuales",children:[Object(u.jsx)("section",{children:Object(u.jsx)("span",{style:{fontWeight:700},children:"Pizzas Individuales:"})}),i.map((function(e){return Object(u.jsxs)("section",{className:"pizzasInfoIndividuales",children:[Object(u.jsx)("span",{style:{fontWeight:700,color:"#DB9423"},children:"Nombre: "}),e.pizza," ",e.medida,"\xa0",Object(u.jsx)("span",{style:{fontWeight:700,color:"#DB9423"},children:"Cantidad: "}),e.cantidad]},"".concat(e.id))}))]}),c=o.length>0&&Object(u.jsxs)("section",{className:"pizzasPromociones",children:[Object(u.jsx)("section",{children:Object(u.jsx)("span",{style:{fontWeight:700},children:"Pizzas Promociones:"})}),o.map((function(e){return Object(u.jsxs)("section",{className:"pizzasPromocionesDetails",children:[Object(u.jsxs)("section",{className:"promoName",style:{fontWeight:600,color:"#db5d23"},children:[e[0].grupo,":"]}),e.map((function(e){return Object(u.jsxs)("section",{className:"pizzasInfoPromociones",children:[Object(u.jsx)("span",{style:{fontWeight:700,color:"#DB9423"},children:"Nombre: "}),e.pizza," ",e.medida,"\xa0",Object(u.jsx)("span",{style:{fontWeight:700,color:"#DB9423"},children:"Cantidad: "}),e.cantidad]},"".concat(e.id))}))]},"".concat(e[0].id,"-").concat(e[1].id))}))]}),Object(u.jsxs)("section",{className:"details",children:[Object(u.jsxs)("section",{className:"InfoProcess",children:[Object(u.jsxs)("section",{className:"info",children:[Object(u.jsxs)("section",{children:[Object(u.jsx)("span",{style:{fontWeight:700},children:"Id de orden:"})," ",Object(u.jsx)("span",{style:{fontWeight:700,color:"#db5d23"},children:s.id})]}),Object(u.jsxs)("section",{children:[Object(u.jsx)("span",{style:{fontWeight:700},children:"Hora: "}),s.hora]}),Object(u.jsxs)("section",{children:[Object(u.jsx)("span",{style:{fontWeight:700},children:"Id de transacci\xf3n: "}),s.transaccion_id]}),Object(u.jsxs)("section",{children:[Object(u.jsx)("span",{style:{fontWeight:700},children:"Tipo: "}),t]}),Object(u.jsxs)("section",{children:[Object(u.jsx)("span",{style:{fontWeight:700},children:"Cliente: "}),s.nombres," ",s.apellidos]})]}),Object(u.jsxs)("section",{className:"process",children:[Object(u.jsx)("section",{children:Object(u.jsx)("span",{style:{fontWeight:700},children:"Proceso:"})}),Object(u.jsx)("input",{type:"radio",name:"".concat(s.id),value:"En espera",defaultChecked:"En espera"===s.proceso,onChange:r})," 1.- En espera ",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"radio",name:"".concat(s.id),value:"Preparando",defaultChecked:"Preparando"===s.proceso,onChange:r})," 2.- Preparando",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"radio",name:"".concat(s.id),value:"Listo",defaultChecked:"Listo"===s.proceso,onChange:r})," 3.- Listo",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"radio",name:"".concat(s.id),value:"Entregado",defaultChecked:"Entregado"===s.proceso,onChange:r})," 4.- Entregado",Object(u.jsx)("br",{})]})]}),"local"===s.entrega?Object(u.jsxs)("section",{children:[Object(u.jsx)("span",{style:{fontWeight:700},children:"Entrega: "}),"Local"]}):Object(u.jsxs)(a.a.Fragment,{children:[Object(u.jsxs)("section",{children:[Object(u.jsx)("span",{style:{fontWeight:700},children:"Tel\xe9fono: "}),s.telefono]}),Object(u.jsxs)("section",{children:[Object(u.jsx)("span",{style:{fontWeight:700},children:"Entrega: "}),"".concat(s.distrito,", ").concat(s.urbanizacion,", ").concat(s.calle," ").concat(s.numero,", apartamento ").concat(s.apartamento,", bloque ").concat(s.bloque,".")]}),Object(u.jsxs)("section",{children:[Object(u.jsx)("span",{style:{fontWeight:700},children:"Detalles: "}),s.detalles]})]}),n,c]})};n(63);var C=function(){var e,t=Object(s.useState)([]),n=Object(h.a)(t,2),c=n[0],r=n[1],o=Object(i.c)((function(e){return e.paidOrders.status})),d=Object(i.c)((function(e){return e.paidOrders.value})),l=Object(i.c)((function(e){return e.paidOrders.error})),j=Object(i.b)();return setInterval((function(){window.location.reload()}),6e4),Object(s.useEffect)((function(){"idle"===o&&j(y())}),[j,o]),Object(s.useEffect)((function(){"succeeded"===o&&r(d)}),[o,d]),"loading"===o?e=Object(u.jsx)("h2",{children:"Cargando \xd3rdenes..."}):"succeeded"===o?e=Object(u.jsx)(a.a.Fragment,{children:c.map((function(e,t){return"No hay \xf3rdenes nuevas."===e?Object(u.jsx)("h2",{children:e},t):Object(u.jsx)(W,{e:e},"".concat(e.id))}))}):"failed"===o&&(e=Object(u.jsx)("section",{children:l})),Object(u.jsx)("section",{className:"onlineOrders",children:e})};n(64);var k=function(){return Object(u.jsx)("section",{className:"orders",children:Object(u.jsx)("section",{className:"online",children:Object(u.jsx)(C,{})})})};var w=function(){return Object(u.jsxs)(d.a,{basename:"/vistaCajero",children:[Object(u.jsx)(p,{}),Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(l.c,{children:Object(u.jsx)(l.a,{path:"/",component:k})})})]})},E=Object(g.a)({reducer:{paidOrders:P}}),I=(n(65),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))});o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(i.a,{store:E,children:Object(u.jsx)(w,{})})}),document.getElementById("root")),I()}},[[66,1,2]]]);
//# sourceMappingURL=main.260611d1.chunk.js.map